<!DOCTYPE html>
<html lang="en">

<head>
    <title>Vue Router 入门学习笔记 | Celestial</title>
    
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <meta name="robots" content="noodp"/>

    <link rel="stylesheet" href="https://paakmau.github.io/style.css">
    <link rel="stylesheet" href="https://paakmau.github.io/color/orange-auto.css">

        <link rel="stylesheet" href="https://paakmau.github.io/color/background_auto.css">
    
    <link rel="stylesheet" href="https://paakmau.github.io/font-hack-subset.css">

    <meta name="description" content="">

    <meta property="og:description" content="">
    <meta property="og:title" content="Vue Router 入门学习笔记 | Celestial">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://paakmau.github.io/202001172006/">

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:description" content="">
    <meta name="twitter:title" content="Vue Router 入门学习笔记 | Celestial">
    <meta property="twitter:domain" content="paakmau.github.io">
    <meta property="twitter:url" content="https://paakmau.github.io/202001172006/">

                <link rel="alternate" type="application/rss+xml" title="Celestial RSS Feed" href="https://paakmau.github.io/rss.xml" />
                <link rel="alternate" type="application/atom+xml" title="Celestial Atom Feed" href="https://paakmau.github.io/atom.xml" />
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <script>
        mermaid.initialize({
            startOnLoad: true,
            theme: 'neutral'
        });
    </script>
</head>

<body class="">
<div class="container">
    
    <header class="header">
        <div class="header__inner">
            <div class="header__logo">
                    
                <a href="https://paakmau.github.io" style="text-decoration: none;">
                    <div class="logo">
                      
                            Celestial
                        
                    </div>
                </a>
            </div>
        </div>

        
        
                <nav class="menu">
            <ul class="menu__inner">
                <li class="active"><a href="https://paakmau.github.io">home</a></li>
            
                <li><a href="https://paakmau.github.io/tags">tags</a></li>
            
                <li><a href="https://github.com/paakmau" target="_blank" rel="noopener noreferrer">github</a></li>
            </ul>
        </nav>
    
    
        
    </header>
    

    <div class="content">
        
    <div class="post">
        
    <h1 class="post-title"><a href="https://paakmau.github.io/202001172006/">Vue Router 入门学习笔记</a></h1>
    <div class="post-meta-inline">
        
    <span class="post-date">
            2020-01-17
        </span>

    </div>

    
        <span class="post-tags-inline">
                :: tags:&nbsp;
                <a class="post-tag" href="https://paakmau.github.io/tags/vue-js/">#Vue.js</a></span>
    

        <div class="post-content">
            <p>Vue Router 是 Vue.js 官方提供的路由管理器，快速构建单页应用<br>
本文将会使用 Vue CLI 创建脚手架，内容包括动态路径参数、嵌套路由、命名视图、懒加载。</p>
<span id="continue-reading"></span><h2 id="yin-ru-vue-router">引入 Vue Router</h2>
<p>在使用 Vue CLI 创建脚手架时需要引入 Router</p>
<p>如果没有，需要安装 <code>vue-router</code> 依赖，然后修改 <code>main.js</code> 等，但很麻烦就懒得写了</p>
<h2 id="jiao-shou-jia-zhong-de-xiang-guan-wen-jian">脚手架中的相关文件</h2>
<p>先介绍一下脚手架中与路由相关的文件</p>
<p><code>src/router/index.js</code><br>
<code>router</code> 的配置文件，管理路由。这里展示一个简易版的</p>
<pre data-lang="js" style="background-color:#151515;color:#e8e8d3;" class="language-js "><code class="language-js" data-lang="js"><span style="color:#8fbfdc;">import </span><span style="color:#ffb964;">Vue </span><span style="color:#8fbfdc;">from </span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">vue</span><span style="color:#556633;">&quot;</span><span>;
</span><span style="color:#8fbfdc;">import </span><span style="color:#ffb964;">VueRouter </span><span style="color:#8fbfdc;">from </span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">vue-router</span><span style="color:#556633;">&quot;</span><span>;
</span><span style="color:#8fbfdc;">import </span><span style="color:#ffb964;">Home </span><span style="color:#8fbfdc;">from </span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">../views/Home.vue</span><span style="color:#556633;">&quot;</span><span>;
</span><span style="color:#8fbfdc;">import </span><span style="color:#ffb964;">About </span><span style="color:#8fbfdc;">from </span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">../views/About.vue</span><span style="color:#556633;">&quot;</span><span>;
</span><span>
</span><span style="color:#ffb964;">Vue</span><span>.</span><span style="color:#fad07a;">use</span><span>(</span><span style="color:#ffb964;">VueRouter</span><span>);
</span><span>
</span><span style="color:#8fbfdc;">const </span><span style="color:#ffb964;">routes </span><span>= [
</span><span>  {
</span><span>    path: </span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">/</span><span style="color:#556633;">&quot;</span><span>,
</span><span>    name: </span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">home</span><span style="color:#556633;">&quot;</span><span>,
</span><span>    component: </span><span style="color:#ffb964;">Home
</span><span>  },
</span><span>  {
</span><span>    path: </span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">/about</span><span style="color:#556633;">&quot;</span><span>,
</span><span>    name: </span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">about</span><span style="color:#556633;">&quot;</span><span>,
</span><span>    component: </span><span style="color:#ffb964;">About
</span><span>  }
</span><span>];
</span><span>
</span><span style="color:#8fbfdc;">const </span><span style="color:#ffb964;">router </span><span>= new </span><span style="color:#ffb964;">VueRouter</span><span>({
</span><span>  mode: </span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">history</span><span style="color:#556633;">&quot;</span><span>,
</span><span>  base: process.env.</span><span style="color:#ffb964;">BASE_URL</span><span>,
</span><span>  </span><span style="color:#ffb964;">routes
</span><span>});
</span><span style="color:#8fbfdc;">export default </span><span style="color:#ffb964;">router</span><span>;
</span></code></pre>
<p>解释：<br>
<code>routes</code> 规定了路由与组件之间的映射，页面可以 <code>import</code> 进来<br>
<code>router</code> 是路由管理器，这里有路由模式、基地址的配置，并把 <code>routes</code> 传入进来</p>
<p><code>src/App.vue</code><br>
它是单页应用的入口（我不知道怎么形容，总之就是所有组件都会渲染在这个页面中），贴一下关键部分</p>
<pre data-lang="html" style="background-color:#151515;color:#e8e8d3;" class="language-html "><code class="language-html" data-lang="html"><span>&lt;</span><span style="color:#ffb964;">template</span><span>&gt;
</span><span>  &lt;</span><span style="color:#ffb964;">div id</span><span>=</span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">app</span><span style="color:#556633;">&quot;</span><span>&gt;
</span><span>    &lt;</span><span style="color:#ffb964;">div id</span><span>=</span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">nav</span><span style="color:#556633;">&quot;</span><span>&gt;
</span><span>      &lt;</span><span style="color:#ffb964;">router-link to</span><span>=</span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">/</span><span style="color:#556633;">&quot;</span><span>&gt;Home&lt;/</span><span style="color:#ffb964;">router-link</span><span>&gt;
</span><span>      &lt;</span><span style="color:#ffb964;">router-link to</span><span>=</span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">/about</span><span style="color:#556633;">&quot;</span><span>&gt;About&lt;/</span><span style="color:#ffb964;">router-link</span><span>&gt;
</span><span>    &lt;/</span><span style="color:#ffb964;">div</span><span>&gt;
</span><span>    &lt;</span><span style="color:#ffb964;">router-view </span><span>/&gt;
</span><span>  &lt;/</span><span style="color:#ffb964;">div</span><span>&gt;
</span><span>&lt;/</span><span style="color:#ffb964;">template</span><span>&gt;
</span></code></pre>
<p>解释：<br>
<code>router-link</code> 是类似超链接一样的东西<br>
<code>router-view</code> 是组件将会被渲染到的地方</p>
<p><code>src/main.js</code><br>
它 <code>import</code> 了 <code>src/router</code>，并且在 <code>Vue</code> 对象实例化的时候传入，随便贴个大概代码</p>
<pre data-lang="js" style="background-color:#151515;color:#e8e8d3;" class="language-js "><code class="language-js" data-lang="js"><span style="color:#8fbfdc;">import </span><span style="color:#ffb964;">Vue </span><span style="color:#8fbfdc;">from </span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">vue</span><span style="color:#556633;">&quot;</span><span>;
</span><span style="color:#8fbfdc;">import </span><span style="color:#ffb964;">App </span><span style="color:#8fbfdc;">from </span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">./App.vue</span><span style="color:#556633;">&quot;</span><span>;
</span><span style="color:#8fbfdc;">import </span><span style="color:#ffb964;">router </span><span style="color:#8fbfdc;">from </span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">./router</span><span style="color:#556633;">&quot;</span><span>;
</span><span>
</span><span style="color:#ffb964;">Vue</span><span>.</span><span style="color:#ffb964;">config</span><span>.</span><span style="color:#ffb964;">productionTip </span><span>= false;
</span><span>
</span><span>new </span><span style="color:#ffb964;">Vue</span><span>({
</span><span>  </span><span style="color:#ffb964;">router</span><span>,
</span><span>  </span><span style="color:#fad07a;">render</span><span>: </span><span style="color:#ffb964;">h </span><span style="color:#8fbfdc;">=&gt; </span><span style="color:#fad07a;">h</span><span>(</span><span style="color:#ffb964;">App</span><span>)
</span><span>}).</span><span style="color:#fad07a;">$mount</span><span>(</span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">#app</span><span style="color:#556633;">&quot;</span><span>);
</span></code></pre>
<h2 id="dong-tai-lu-you-pi-pei">动态路由匹配</h2>
<p>很多时候，不同的 URL 可能会对应同一个页面，比如不同 ID 的用户页面都会使用同一个组件渲染<br>
因此可以使用动态路径参数来解决这个问题</p>
<p>例如，<code>router</code> 的配置文件可以这样写</p>
<pre data-lang="js" style="background-color:#151515;color:#e8e8d3;" class="language-js "><code class="language-js" data-lang="js"><span style="color:#8fbfdc;">import </span><span style="color:#ffb964;">Vue </span><span style="color:#8fbfdc;">from </span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">vue</span><span style="color:#556633;">&quot;</span><span>;
</span><span style="color:#8fbfdc;">import </span><span style="color:#ffb964;">VueRouter </span><span style="color:#8fbfdc;">from </span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">vue-router</span><span style="color:#556633;">&quot;</span><span>;
</span><span style="color:#8fbfdc;">import </span><span style="color:#ffb964;">Home </span><span style="color:#8fbfdc;">from </span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">../views/Home.vue</span><span style="color:#556633;">&quot;</span><span>;
</span><span style="color:#8fbfdc;">import </span><span style="color:#ffb964;">User </span><span style="color:#8fbfdc;">from </span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">../views/User.vue</span><span style="color:#556633;">&quot;</span><span>;
</span><span>
</span><span style="color:#ffb964;">Vue</span><span>.</span><span style="color:#fad07a;">use</span><span>(</span><span style="color:#ffb964;">VueRouter</span><span>);
</span><span>
</span><span style="color:#8fbfdc;">const </span><span style="color:#ffb964;">routes </span><span>= [
</span><span>  {
</span><span>    path: </span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">/</span><span style="color:#556633;">&quot;</span><span>,
</span><span>    name: </span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">home</span><span style="color:#556633;">&quot;</span><span>,
</span><span>    component: </span><span style="color:#ffb964;">Home
</span><span>  },
</span><span>  {
</span><span>    path: </span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">/user/:id</span><span style="color:#556633;">&quot;</span><span>,
</span><span>    name: </span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">user</span><span style="color:#556633;">&quot;</span><span>,
</span><span>    component: </span><span style="color:#ffb964;">User
</span><span>  }
</span><span>];
</span><span>
</span><span style="color:#8fbfdc;">const </span><span style="color:#ffb964;">router </span><span>= new </span><span style="color:#ffb964;">VueRouter</span><span>({
</span><span>  mode: </span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">history</span><span style="color:#556633;">&quot;</span><span>,
</span><span>  base: process.env.</span><span style="color:#ffb964;">BASE_URL</span><span>,
</span><span>  </span><span style="color:#ffb964;">routes
</span><span>});
</span><span>
</span><span style="color:#8fbfdc;">export default </span><span style="color:#ffb964;">router</span><span>;
</span></code></pre>
<p>然后 <code>User.vue</code> 长这样</p>
<pre data-lang="html" style="background-color:#151515;color:#e8e8d3;" class="language-html "><code class="language-html" data-lang="html"><span>&lt;</span><span style="color:#ffb964;">template</span><span>&gt;
</span><span>  &lt;</span><span style="color:#ffb964;">div class</span><span>=</span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">user</span><span style="color:#556633;">&quot;</span><span>&gt;
</span><span>    &lt;</span><span style="color:#ffb964;">h1</span><span>&gt;User ID: {{ $route.params.id }}&lt;/</span><span style="color:#ffb964;">h1</span><span>&gt;
</span><span>  &lt;/</span><span style="color:#ffb964;">div</span><span>&gt;
</span><span>&lt;/</span><span style="color:#ffb964;">template</span><span>&gt;
</span></code></pre>
<p>这个东西使用 path-to-regexp 作为路径匹配引擎，支持正则匹配，这是它的 GitHub 链接<br>
<a href="https://github.com/pillarjs/path-to-regexp">https://github.com/pillarjs/path-to-regexp</a></p>
<p>然后路由匹配是按照定义的顺序决定的，先定义的先匹配<br>
因此可以在路由的最后配置 404 页面</p>
<h2 id="qian-tao-lu-you">嵌套路由</h2>
<p>就是在子页面中使用路由</p>
<p>我们在路由配置中为 <code>user</code> 添加 <code>profile</code> 子路由，具体如下</p>
<pre data-lang="js" style="background-color:#151515;color:#e8e8d3;" class="language-js "><code class="language-js" data-lang="js"><span style="color:#8fbfdc;">import </span><span style="color:#ffb964;">Vue </span><span style="color:#8fbfdc;">from </span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">vue</span><span style="color:#556633;">&quot;</span><span>;
</span><span style="color:#8fbfdc;">import </span><span style="color:#ffb964;">VueRouter </span><span style="color:#8fbfdc;">from </span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">vue-router</span><span style="color:#556633;">&quot;</span><span>;
</span><span style="color:#8fbfdc;">import </span><span style="color:#ffb964;">Home </span><span style="color:#8fbfdc;">from </span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">../views/Home.vue</span><span style="color:#556633;">&quot;</span><span>;
</span><span style="color:#8fbfdc;">import </span><span style="color:#ffb964;">User </span><span style="color:#8fbfdc;">from </span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">../views/User.vue</span><span style="color:#556633;">&quot;</span><span>;
</span><span style="color:#8fbfdc;">import </span><span style="color:#ffb964;">Profile </span><span style="color:#8fbfdc;">from </span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">../views/Profile.vue</span><span style="color:#556633;">&quot;
</span><span>
</span><span style="color:#ffb964;">Vue</span><span>.</span><span style="color:#fad07a;">use</span><span>(</span><span style="color:#ffb964;">VueRouter</span><span>);
</span><span>
</span><span style="color:#8fbfdc;">const </span><span style="color:#ffb964;">routes </span><span>= [
</span><span>  {
</span><span>    path: </span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">/</span><span style="color:#556633;">&quot;</span><span>,
</span><span>    name: </span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">home</span><span style="color:#556633;">&quot;</span><span>,
</span><span>    component: </span><span style="color:#ffb964;">Home
</span><span>  },
</span><span>  {
</span><span>    path: </span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">/user/:id</span><span style="color:#556633;">&quot;</span><span>,
</span><span>    name: </span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">user</span><span style="color:#556633;">&quot;</span><span>,
</span><span>    component: </span><span style="color:#ffb964;">User</span><span>,
</span><span>    children: [
</span><span>      {
</span><span>        path: </span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">profile</span><span style="color:#556633;">&quot;</span><span>,
</span><span>        component: </span><span style="color:#ffb964;">Profile
</span><span>      }
</span><span>    ]
</span><span>  }
</span><span>];
</span><span>
</span><span style="color:#8fbfdc;">const </span><span style="color:#ffb964;">router </span><span>= new </span><span style="color:#ffb964;">VueRouter</span><span>({
</span><span>  mode: </span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">history</span><span style="color:#556633;">&quot;</span><span>,
</span><span>  base: process.env.</span><span style="color:#ffb964;">BASE_URL</span><span>,
</span><span>  </span><span style="color:#ffb964;">routes
</span><span>});
</span><span style="color:#8fbfdc;">export default </span><span style="color:#ffb964;">router</span><span>;
</span></code></pre>
<p>同时修改 <code>User.vue</code>，为它添加 <code>router-view</code></p>
<pre data-lang="html" style="background-color:#151515;color:#e8e8d3;" class="language-html "><code class="language-html" data-lang="html"><span>&lt;</span><span style="color:#ffb964;">template</span><span>&gt;
</span><span>  &lt;</span><span style="color:#ffb964;">div class</span><span>=</span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">user</span><span style="color:#556633;">&quot;</span><span>&gt;
</span><span>    &lt;</span><span style="color:#ffb964;">h1</span><span>&gt;User ID: {{ $route.params.id }}&lt;/</span><span style="color:#ffb964;">h1</span><span>&gt;
</span><span>    &lt;</span><span style="color:#ffb964;">router-view </span><span>/&gt;
</span><span>  &lt;/</span><span style="color:#ffb964;">div</span><span>&gt;
</span><span>&lt;/</span><span style="color:#ffb964;">template</span><span>&gt;
</span></code></pre>
<h2 id="ming-ming-shi-tu">命名视图</h2>
<p>有时候同一个页面中会有多个 <code>router-view</code>，我们希望在不同的视图中显示不同的东西</p>
<p>路由配置如下</p>
<pre data-lang="js" style="background-color:#151515;color:#e8e8d3;" class="language-js "><code class="language-js" data-lang="js"><span style="color:#8fbfdc;">import </span><span style="color:#ffb964;">Vue </span><span style="color:#8fbfdc;">from </span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">vue</span><span style="color:#556633;">&quot;</span><span>;
</span><span style="color:#8fbfdc;">import </span><span style="color:#ffb964;">VueRouter </span><span style="color:#8fbfdc;">from </span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">vue-router</span><span style="color:#556633;">&quot;</span><span>;
</span><span style="color:#8fbfdc;">import </span><span style="color:#ffb964;">Home </span><span style="color:#8fbfdc;">from </span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">../views/Home.vue</span><span style="color:#556633;">&quot;</span><span>;
</span><span style="color:#8fbfdc;">import </span><span style="color:#ffb964;">User </span><span style="color:#8fbfdc;">from </span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">../views/User.vue</span><span style="color:#556633;">&quot;</span><span>;
</span><span style="color:#8fbfdc;">import </span><span style="color:#ffb964;">Profile </span><span style="color:#8fbfdc;">from </span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">../views/Profile.vue</span><span style="color:#556633;">&quot;
</span><span style="color:#8fbfdc;">import </span><span style="color:#ffb964;">Profile2 </span><span style="color:#8fbfdc;">from </span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">../views/Profile2.vue</span><span style="color:#556633;">&quot;
</span><span>
</span><span style="color:#ffb964;">Vue</span><span>.</span><span style="color:#fad07a;">use</span><span>(</span><span style="color:#ffb964;">VueRouter</span><span>);
</span><span>
</span><span style="color:#8fbfdc;">const </span><span style="color:#ffb964;">routes </span><span>= [
</span><span>  {
</span><span>    path: </span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">/</span><span style="color:#556633;">&quot;</span><span>,
</span><span>    name: </span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">home</span><span style="color:#556633;">&quot;</span><span>,
</span><span>    component: </span><span style="color:#ffb964;">Home
</span><span>  },
</span><span>  {
</span><span>    path: </span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">/user/:id</span><span style="color:#556633;">&quot;</span><span>,
</span><span>    name: </span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">user</span><span style="color:#556633;">&quot;</span><span>,
</span><span>    component: </span><span style="color:#ffb964;">User</span><span>,
</span><span>    children: [
</span><span>      {
</span><span>        path: </span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">profile</span><span style="color:#556633;">&quot;</span><span>,
</span><span>        components: {
</span><span>          default: </span><span style="color:#ffb964;">Profile</span><span>,
</span><span>          profile2: </span><span style="color:#ffb964;">Profile2
</span><span>        }
</span><span>      }
</span><span>    ]
</span><span>  }
</span><span>];
</span><span>
</span><span style="color:#8fbfdc;">const </span><span style="color:#ffb964;">router </span><span>= new </span><span style="color:#ffb964;">VueRouter</span><span>({
</span><span>  mode: </span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">history</span><span style="color:#556633;">&quot;</span><span>,
</span><span>  base: process.env.</span><span style="color:#ffb964;">BASE_URL</span><span>,
</span><span>  </span><span style="color:#ffb964;">routes
</span><span>});
</span><span style="color:#8fbfdc;">export default </span><span style="color:#ffb964;">router</span><span>;
</span></code></pre>
<p><code>User.vue</code> 如下：</p>
<pre data-lang="html" style="background-color:#151515;color:#e8e8d3;" class="language-html "><code class="language-html" data-lang="html"><span>&lt;</span><span style="color:#ffb964;">template</span><span>&gt;
</span><span>  &lt;</span><span style="color:#ffb964;">div class</span><span>=</span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">user</span><span style="color:#556633;">&quot;</span><span>&gt;
</span><span>    &lt;</span><span style="color:#ffb964;">h1</span><span>&gt;User ID: {{ $route.params.id }}&lt;/</span><span style="color:#ffb964;">h1</span><span>&gt;
</span><span>    &lt;</span><span style="color:#ffb964;">router-view </span><span>/&gt;
</span><span>    &lt;</span><span style="color:#ffb964;">router-view name</span><span>=</span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">profile2</span><span style="color:#556633;">&quot;</span><span>/&gt;
</span><span>  &lt;/</span><span style="color:#ffb964;">div</span><span>&gt;
</span><span>&lt;/</span><span style="color:#ffb964;">template</span><span>&gt;
</span></code></pre>
<h2 id="lu-you-lan-jia-zai">路由懒加载</h2>
<p>对于一个路由中的组件，可以在被访问的时候再加载<br>
把 <code>import</code> 改成函数就行，比如下面这个：</p>
<pre data-lang="js" style="background-color:#151515;color:#e8e8d3;" class="language-js "><code class="language-js" data-lang="js"><span style="color:#8fbfdc;">import </span><span style="color:#ffb964;">Vue </span><span style="color:#8fbfdc;">from </span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">vue</span><span style="color:#556633;">&quot;</span><span>;
</span><span style="color:#8fbfdc;">import </span><span style="color:#ffb964;">VueRouter </span><span style="color:#8fbfdc;">from </span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">vue-router</span><span style="color:#556633;">&quot;</span><span>;
</span><span style="color:#8fbfdc;">import </span><span style="color:#ffb964;">Home </span><span style="color:#8fbfdc;">from </span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">../views/Home.vue</span><span style="color:#556633;">&quot;</span><span>;
</span><span style="color:#8fbfdc;">const </span><span style="color:#fad07a;">User </span><span>= () </span><span style="color:#8fbfdc;">=&gt; </span><span>import(</span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">../views/User.vue</span><span style="color:#556633;">&quot;</span><span>);
</span><span style="color:#8fbfdc;">const </span><span style="color:#fad07a;">Profile </span><span>= () </span><span style="color:#8fbfdc;">=&gt; </span><span>import(</span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">../views/Profile.vue</span><span style="color:#556633;">&quot;</span><span>);
</span><span style="color:#8fbfdc;">const </span><span style="color:#fad07a;">Profile2 </span><span>= () </span><span style="color:#8fbfdc;">=&gt; </span><span>import(</span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">../views/Profile2.vue</span><span style="color:#556633;">&quot;</span><span>);
</span><span>
</span><span style="color:#ffb964;">Vue</span><span>.</span><span style="color:#fad07a;">use</span><span>(</span><span style="color:#ffb964;">VueRouter</span><span>);
</span><span>
</span><span style="color:#8fbfdc;">const </span><span style="color:#ffb964;">routes </span><span>= [
</span><span>  {
</span><span>    path: </span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">/</span><span style="color:#556633;">&quot;</span><span>,
</span><span>    name: </span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">home</span><span style="color:#556633;">&quot;</span><span>,
</span><span>    component: </span><span style="color:#ffb964;">Home
</span><span>  },
</span><span>  {
</span><span>    path: </span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">/user/:id</span><span style="color:#556633;">&quot;</span><span>,
</span><span>    name: </span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">user</span><span style="color:#556633;">&quot;</span><span>,
</span><span>    component: </span><span style="color:#ffb964;">User</span><span>,
</span><span>    children: [
</span><span>      {
</span><span>        path: </span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">profile</span><span style="color:#556633;">&quot;</span><span>,
</span><span>        components: {
</span><span>          default: </span><span style="color:#ffb964;">Profile</span><span>,
</span><span>          profile2: </span><span style="color:#ffb964;">Profile2
</span><span>        }
</span><span>      }
</span><span>    ]
</span><span>  }
</span><span>];
</span><span>
</span><span style="color:#8fbfdc;">const </span><span style="color:#ffb964;">router </span><span>= new </span><span style="color:#ffb964;">VueRouter</span><span>({
</span><span>  mode: </span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">history</span><span style="color:#556633;">&quot;</span><span>,
</span><span>  base: process.env.</span><span style="color:#ffb964;">BASE_URL</span><span>,
</span><span>  </span><span style="color:#ffb964;">routes
</span><span>});
</span><span style="color:#8fbfdc;">export default </span><span style="color:#ffb964;">router</span><span>;
</span></code></pre>
<p>还可以把多个组件打包到一个 chunk 中，就能以 chunk 为单位异步加载，参考这个<br>
<a href="https://webpack.js.org/guides/code-splitting/">https://webpack.js.org/guides/code-splitting/</a></p>

        </div>

        
            <div class="pagination">
                <div class="pagination__title">
                    <span class="pagination__title-h">Thanks for reading! Read other posts?</span>
                    <hr />
                </div>
                <div class="pagination__buttons">
                        <span class="button previous">
                            <a href="https://paakmau.github.io/201912271024/">
                                <span class="button__icon">←</span>&nbsp;
                                <span class="button__text">使用 Vue CLI 快速搭建 Vue.js 脚手架</span>
                            </a>
                        </span>
                    
                    
                        <span class="button next">
                            <a href="https://paakmau.github.io/202001202338/">
                                <span class="button__text">Vuex 学习笔记</span>&nbsp;
                                <span class="button__icon">→</span>
                            </a>
                        </span>
                    </div>
            </div>
        
    </div>

    </div>

    
    <footer class="footer">
        <div class="footer__inner">
                <div class="copyright">
                        <span>© 
    2025
 Powered by <a href="https://www.getzola.org/">Zola</a></span>
                    <span class="copyright-theme">
                        <span class="copyright-theme-sep">:: </span>
                        Theme: <a href="https://github.com/pawroman/zola-theme-terminimal/">Terminimal</a> by pawroman
                    </span>
                </div>
            </div>
    </footer>
    

</div>
</body>

</html>
